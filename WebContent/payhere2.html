<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
	<form method="post" action="https://sandbox.payhere.lk/pay/checkout">
		<input type="hidden" name="merchant_id" value="1214373">
		<!-- Replace your Merchant ID -->
		<input type="hidden" name="return_url"
			value="http://localhost:8080/ecommerce/"> <input
			type="hidden" name="cancel_url"
			value="http://localhost:8080/ecommerce/"> <input
			type="hidden" name="notify_url"
			value="http://localhost:8080/ecommerce/"> <br>
		<br>Item Details<br> <input type="text" name="order_id"
			value="ItemNo12345"> <input type="text" name="items"
			value="Door bell wireless"><br> <input type="text"
			name="currency" value="LKR"> <input type="text" name="amount"
			value="10004"> <br>
		<br>Customer Details<br> <input type="text"
			name="first_name" value="Saman"> <input type="text"
			name="last_name" value="Perera"><br> <input type="text"
			name="email" value="samanp@gmail.com"> <input type="text"
			name="city" value="Colombo"> <input type="hidden"
			name="country" value="Sri Lanka"><br>
		<br> <input type="text" name="phone" value="0771234567"><br>
		<input type="text" name="address" value="No.1, Galle Road"> <input
			type="hidden" name="hash" value="D55D01B4F87FFCE0E3862B44B56DE44B">
		<input type="submit" value="Buy Now">
		<button onclick="payhere()" type="button">sssdsdsdsd</button>
	</form>

	<div id="conte"></div>

	<script type="text/javascript"
		src="Design/mdPro/js/jquery-3.4.1.min.js"></script>
	<!-- Bootstrap tooltips -->
	<script type="text/javascript" src="Design/mdPro/js/popper.min.js"></script>
	<!-- Bootstrap core JavaScript -->
	<script type="text/javascript" src="Design/mdPro/js/bootstrap.min.js">
		
	</script>
	<!-- MDB core JavaScript -->
	<script type="text/javascript" src="Design/mdPro/js/mdb.min.js"></script>
	<script type="text/javascript"
		src="https://www.payhere.lk/lib/payhere.js"></script>
	<button type="submit" id="payhere-payment">PayHere Pay</button>
	<script>
		// Called when user completed the payment. It can be a successful payment or failure
		payhere.onCompleted = function onCompleted(orderId) {
			console.log("Payment completed. OrderID:" + orderId);
			//Note: validate the payment and show success or failure page to the customer
		};

		// Called when user closes the payment without completing
		payhere.onDismissed = function onDismissed() {
			//Note: Prompt user to pay again or show an error page
			console.log("Payment dismissed");
		};

		// Called when error happens when initializing payment such as invalid parameters
		payhere.onError = function onError(error) {
			// Note: show an error page
			console.log("Error:" + error);
		};

		// Put the payment variables here
		var payment = {};

		// Show the payhere.js popup, when "PayHere Pay" is clicked
		document.getElementById('payhere-payment').onclick = function(e) {

			$.ajax({
				url : 'payyyyyhereeeeee',
				type : 'GET',
				dataType : 'json',
				success : function(data) {
					payment = data;
					console.log(payment);
					payhere.startPayment(payment);
					console.log(data);

				}
			})

		};
	</script>
</body>
</html>